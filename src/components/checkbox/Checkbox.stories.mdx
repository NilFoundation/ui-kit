import { Canvas, Meta, Story, ArgsTable, Source } from "@storybook/blocks";
import Checkbox, { LABEL_PLACEMENT } from "./Checkbox";
import { useState, useEffect } from "react";

<Meta title="Form/Checkbox" component={Checkbox} />

export const Template = ({ checked: baseChecked, ...args }) => {
  const [checked, setChecked] = useState(baseChecked);
  const onChangeHandler = (event) => {
    setChecked(event.target.checked);
  };
  useEffect(() => {
    setChecked(baseChecked);
  }, [baseChecked]);
  return <Checkbox {...args} checked={checked} onChange={onChangeHandler} />;
};

# Checkbox

<Canvas isColumn>
  <Story name="Base" args={{}}>
    {Template.bind({})}
  </Story>
  <Story name="With Label" args={{ children: "Label" }}>
    {Template.bind({})}
  </Story>
  <Story name="With Default Checked" args={{ children: "Label", checked: true }}>
    {Template.bind({})}
  </Story>
  <Story name="Disabled" args={{ children: "Label", disabled: true, checked: true }}>
    {Template.bind({})}
  </Story>
  <Story name="Error" args={{ children: "Label", error: true }}>
    {Template.bind({})}
  </Story>
  <Story name="Label Placement" args={{ children: "Label", labelPlacement: LABEL_PLACEMENT.left }}>
    {Template.bind({})}
  </Story>
  <Story name="Indeterminate checkbox" args={{ children: "Label", isIndeterminate: true }}>
    {Template.bind({})}
  </Story>
  <Story name="Toggle checked" args={{ children: "Label", checked: true, checkmarkType: "toggle" }}>
    {Template.bind({})}
  </Story>
  <Story
    name="Toggle checked with label placement"
    args={{ children: "Label", checked: true, checkmarkType: "toggle", labelPlacement: LABEL_PLACEMENT.left }}
  >
    {Template.bind({})}
  </Story>
  <Story name="Toggle unchecked" args={{ children: "Label", checked: false, checkmarkType: "toggle" }}>
    {Template.bind({})}
  </Story>
  <Story name="Toggle with error" args={{ children: "Label", error: true, checkmarkType: "toggle" }}>
    {Template.bind({})}
  </Story>
  <Story name="Toggle disabled" args={{ children: "Label", disabled: true, checkmarkType: "toggle" }}>
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable of={Checkbox} />

### Usage:

To use, import the component `Checkbox` from `@nilfoundation/ui-kit`.

<Source
  language="tsx"
  dark
  format={true}
  code={`
        import {Checkbox, CHECKBOX_LABEL_PLACEMENT} from "@nilfoundation/ui-kit";
        ...
        // Base checkbox
        <Checkbox />
        // Checkbox with Label
        <Checkbox>Some text</Checkbox>
        // Checkbox with default checked
        <Checkbox checked>With default checked</Checkbox>
        // Disabled checkbox
        <Checkbox disabled>Disabled</Checkbox>
        // Error checkbox
        <Checkbox error>Error</Checkbox>
        // Label placement of checkbox is from the left
        <Checkbox labelPlacement={CHECKBOX_LABEL_PLACEMENT.left}>Label placement</Checkbox>
        // Indeterminate checkbox
        <Checkbox isIndeterminate>Indeterminate checkbox</Checkbox>
    `}
/>
