import { Canvas, Meta, Story, ArgsTable, Source } from "@storybook/blocks";
import Input from "./Input";
import { useState } from "react";
import { useStyletron } from "baseui";
import { INPUT_SIZE, INPUT_KIND } from "./types";
import { HeartIcon, SearchIcon } from "../icons";

<Meta title="Form/Input" component={Input} />

export const Template = ({ value: baseValue, ...args }) => {
  const [value, setValue] = useState(baseValue);
  const [css] = useStyletron();
  const containerStyles = {
    width: "400px",
  };
  const onChangeHandler = (event) => {
    setValue(event.target.value);
  };
  return (
    <div className={css(containerStyles)}>
      <Input {...args} value={value} onChange={onChangeHandler} />
    </div>
  );
};

# Input

<Canvas isColumn>
  <Story name="Small" args={{ placeholder: "Input Field", size: INPUT_SIZE.small }}>
    {Template.bind({})}
  </Story>
  <Story name="Medium" args={{ placeholder: "Input Field", size: INPUT_SIZE.medium }}>
    {Template.bind({})}
  </Story>
  <Story name="Disabled" args={{ placeholder: "Disabled Field", disabled: true, size: INPUT_SIZE.small }}>
    {Template.bind({})}
  </Story>
  <Story name="Readonly" args={{ placeholder: "Readonly Field", readOnly: true, size: INPUT_SIZE.small }}>
    {Template.bind({})}
  </Story>
  <Story name="Password" args={{ placeholder: "Password Field", type: "password", size: INPUT_SIZE.small }}>
    {Template.bind({})}
  </Story>
  <Story name="Secondary" args={{ placeholder: "Secondary input", size: INPUT_SIZE.small, kind: INPUT_KIND.secondary }}>
    {Template.bind({})}
  </Story>
  <Story name="Error" args={{ placeholder: "Error Field", size: INPUT_SIZE.small, kind: INPUT_KIND.error }}>
    {Template.bind({})}
  </Story>
  <Story
    name="Loading"
    args={{ placeholder: "Loading...", size: INPUT_SIZE.small, isLoading: true, endEnhancer: <HeartIcon /> }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="With Default Value"
    args={{ placeholder: "Default Value", value: "Default Text", size: INPUT_SIZE.small }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="With Start Enhancer"
    args={{ placeholder: "Start Enhancer", startEnhancer: "@", size: INPUT_SIZE.small }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="With End Enhancer"
    args={{ placeholder: "End Enhancer", endEnhancer: <SearchIcon />, size: INPUT_SIZE.small }}
  >
    {Template.bind({})}
  </Story>
  <Story name="Clearable" args={{ placeholder: "Clearable", clearable: true, size: INPUT_SIZE.small }}>
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable of={Input} />

### Usage:

To use, import the component `Input` from `@nilfoundation/ui-kit`.

<Source
  language="tsx"
  dark
  format={true}
  code={`
        import {Input, INPUT_SIZE} from "@nilfoundation/ui-kit";
        ...
        <Input placeholder="Input Field" size={INPUT_SIZE.small} />
        // Disabled
        <Input placeholder="Input Field" disabled />
        // Readonly
        <Input placeholder="Input Field" readOnly />
        // Loading
        <Input placeholder="Input Field" isLoading />
        // Clearable
        <Input placeholder="Input Field" clearable />
        // With enhancer
        <Input placeholder="Input Field" startEnhancer="@" endEnhancer="00.00" />
  `}
/>
