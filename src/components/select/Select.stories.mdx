import { Canvas, Meta, Story, ArgsTable, Source } from "@storybook/blocks";
import Select from "./Select";
import { SELECT_SIZE, SELECT_KIND } from "./types";
import { useState } from "react";
import { useStyletron } from "baseui";

<Meta title="Form/Select" component={Select} />

export const Template = ({ value: baseValue, onChange, ...args }) => {
  const [css] = useStyletron();
  const [value, setValue] = useState(baseValue);
  const onChangeHandler = (params) => {
    setValue(params.value);
    onChange?.(params.value);
  };
  const containerStyles = {
    width: "400px",
  };
  return (
    <div className={css(containerStyles)}>
      <Select {...args} value={value} onChange={onChangeHandler} />
    </div>
  );
};

export const options = [
  { label: "AliceBlue", id: "#F0F8FF" },
  { label: "AntiqueWhite", id: "#FAEBD7" },
  { label: "Aqua", id: "#00FFFF" },
  { label: "Aquamarine", id: "#7FFFD4" },
  { label: "Azure", id: "#F0FFFF" },
  { label: "Beige", id: "#F5F5DC" },
];

# Select

<Canvas isColumn>
  <Story name="Small" args={{ options, placeholder: "Small Select", size: SELECT_SIZE.small }}>
    {Template.bind({})}
  </Story>
  <Story name="Medium" args={{ options, placeholder: "Medium Select", size: SELECT_SIZE.medium }}>
    {Template.bind({})}
  </Story>
  <Story name="Large" args={{ options, placeholder: "Large Select", size: SELECT_SIZE.large }}>
    {Template.bind({})}
  </Story>
  <Story name="Multiple" args={{ options, placeholder: "Multiple Select", multi: true, size: SELECT_SIZE.small }}>
    {Template.bind({})}
  </Story>
  <Story
    name="Multiple Disabled"
    args={{
      options,
      placeholder: "Multiple Select",
      multi: true,
      size: SELECT_SIZE.small,
      value: [options[0], options[1]],
      disabled: true,
    }}
  >
    {Template.bind({})}
  </Story>
  <Story name="Disabled" args={{ options, placeholder: "Disabled Select", disabled: true, size: SELECT_SIZE.small }}>
    {Template.bind({})}
  </Story>
  <Story name="Error" args={{ options, placeholder: "Error Select", error: true, size: SELECT_SIZE.small }}>
    {Template.bind({})}
  </Story>
  <Story name="Loading" args={{ options, placeholder: "Loading Select", isLoading: true, size: SELECT_SIZE.small }}>
    {Template.bind({})}
  </Story>
  <Story
    name="Without Searchable"
    args={{ options, placeholder: "Select", searchable: false, size: SELECT_SIZE.small }}
  >
    {Template.bind({})}
  </Story>
  <Story
    name="With Default Value"
    args={{ options, placeholder: "With Default Value", value: [options[0]], size: SELECT_SIZE.small }}
  >
    {Template.bind({})}
  </Story>
  <Story name="Seconday select" args={{ options, placeholder: "Secondary select", kind: SELECT_KIND.secondary }}>
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable of={Select} />

### Usage:

To use, import the component `Select` from `@nilfoundation/ui-kit`.

<Source
  language="tsx"
  dark
  format={true}
  code={`
        import {Select, SELECT_SIZE} from "@nilfoundation/ui-kit";
        const OPTIONS = [
          { label: "AliceBlue", id: "#F0F8FF" },
          { label: "AntiqueWhite", id: "#FAEBD7" },
          { label: "Aqua", id: "#00FFFF" },
          { label: "Aquamarine", id: "#7FFFD4" },
          { label: "Azure", id: "#F0FFFF" },
          { label: "Beige", id: "#F5F5DC" }
        ];
        ...
        <Select options={OPTIONS} placeholder="Select" size={SELECT_SIZE.small} />
        // Disabled
        <Select options={OPTIONS} placeholder="Select" disabled />
        // Loading
        <Select options={OPTIONS} placeholder="Select" isLoading />
        // Searchable
        <Select options={OPTIONS} placeholder="Select" searchable />
        // Multiple
        <Select options={OPTIONS} placeholder="Select" multi />
  `}
/>
